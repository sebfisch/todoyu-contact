<?xml version="1.0" encoding="UTF-8"?>
<form>
	<attributes>
		<attribute name="action">?ext=contact&amp;controller=formhandling</attribute>
		<attribute name="name">address</attribute>
	</attributes>
	<hiddenFields>
		<field name="id"></field>
	</hiddenFields>
	<fieldsets>
		<fieldset name="main">
			<legend>Main address data</legend>
			<elements>

				<field type="select" name="id_addresstype">
					<label>user.address.attr.addresstype</label>
					<source type="function">
						<function>TodoyuContactViewHelper::getAddressTypeOptions</function>
					</source>
					<required />
				</field>

				<field type="textinput" name="street">
					<label>user.address.attr.street</label>
					<required />
				</field>

				<field type="textinput" name="postbox">
					<label>user.address.attr.postbox</label>
				</field>

				<field type="textinput" name="zip">
					<label>user.address.attr.zip</label>
					<required />
				</field>

				<field type="textinput" name="city">
					<label>user.address.attr.city</label>
					<required />
				</field>

				<field type="select" name="id_country">
					<label>user.address.attr.country</label>
					<source type="function">
						<function>TodoyuContactViewHelper::getCountryOptions</function>
					</source>
				</field>

				<field type="textinputAC" name="region">
					<label>user.address.attr.region</label>
					<config>
						<acListener>
							<ext>contact</ext>
							<controller>autocompletion</controller>
							<action>region</action>
						</acListener>
						<acLabelFunc>TodoyuDatasource::getRegionLabel</acLabelFunc>
						<options>
							<onCompleteCustom>Todoyu.Ext.contact.Autocomplete.onRegionAutocomplete</onCompleteCustom>
						</options>
					</config>
				</field>

				<field type="checkbox" name="is_preferred">
					<label>user.address.attr.is_preferred</label>
				</field>

				<field type="textarea" name="comment">
					<label>user.address.attr.comment</label>
				</field>

			</elements>
		</fieldset>
	</fieldsets>
</form>