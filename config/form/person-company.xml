<?xml version="1.0" encoding="UTF-8"?>
<form>
	<fieldsets>
		<fieldset name="main">
			<legend>Main company data</legend>
			<elements>

				<field type="textAC" name="id">
					<label>contact.ext.company</label>
					<config>
						<acName>company</acName>
						<acLabel>TodoyuContactCompanyManager::getLabel</acLabel>
						<options>
							<onComplete>Todoyu.Ext.contact.Autocomplete.onCompanyAutocomplete</onComplete>
							<onSelected>Todoyu.Ext.contact.Person.updateCompanyAddressRecords</onSelected>
							<referencedFieldName>id-workaddress</referencedFieldName>
						</options>
					</config>
					<required />
					<wizard>
						<htmlClass>createNewCompany</htmlClass>
						<ext>contact</ext>
						<controller>company</controller>
						<action>addNewContactWizard</action>
						<title>LLL:contact.ext.create.company.label</title>
						<width>700</width>
						<displayCondition />
						<restrict>
							<allow ext="contact" right="contact:modify" />
						</restrict>
					</wizard>
				</field>

				<field type="select" name="id_workaddress">
					<label>contact.ext.workaddress</label>
					<source type="function">
						<function>TodoyuContactViewHelper::getWorkaddressOptionsPerson</function>
						<lazyInit/>
					</source>
				</field>

				<field type="select" name="id_jobtype">
					<label>contact.ext.jobtype</label>
					<source type="function">
						<function>TodoyuContactViewHelper::getJobTypeOptions</function>
						<lazyInit/>
					</source>
				</field>

			</elements>
		</fieldset>
	</fieldsets>
</form>