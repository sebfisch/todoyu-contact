<?xml version="1.0" encoding="UTF-8"?>
<form>
	<attributes>
		<attribute name="name">customer</attribute>
	</attributes>
	<fieldsets>
		<fieldset name="main">
			<legend>Main company data</legend>
			<elements>

				<field type="textinputAC" name="id">
					<label>user.user.attr.user-company.company</label>
					<config>
						<acListener>
							<ext>contact</ext>
							<controller>autocompletion</controller>
							<action>company</action>
						</acListener>
						<acLabelFunc>TodoyuCompanyManager::getLabel</acLabelFunc>
						<options>
							<onElementSelectedCustom>Todoyu.Ext.contact.Person.updateCompanyAddressRecords</onElementSelectedCustom>
							<referencedFieldName>id-workaddress</referencedFieldName>
							<onCompleteCustom>Todoyu.Ext.contact.Autocomplete.onCompanyAutocomplete</onCompleteCustom>
						</options>
					</config>
					<required />
				</field>

				<field type="select" name="id_workaddress">
					<label>user.worklocation</label>
					<source type="function">
						<function>TodoyuContactViewHelper::getWorkaddressOptionsUser</function>
						<lazyInit/>
					</source>
				</field>

				<field type="select" name="id_jobtype">
					<label>user.jobtype</label>
					<source type="function">
						<function>TodoyuContactViewHelper::getJobtypeOptions</function>
						<lazyInit/>
					</source>
				</field>

			</elements>
		</fieldset>
	</fieldsets>
</form>